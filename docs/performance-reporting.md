# Phase 6 Performance Reporting

Latency hardening relies on being able to replay bridge dispatches and surface
per-kind jitter. This guide explains how to turn structured logs from the Phase
5 observed router into latency summaries using the Phase 6 performance helpers
and CLI.

## Inputs
- Line-delimited JSON emitted by the Phase 5 `StructuredLogger`. Each entry
  should contain `kind`, `minimal`, `session_id`, `sdk_surface`,
  `capabilities`, and a timestamp (`bridged_at` or `timestamp`).
- Optional replay exports can continue to be generated by the Phase 5 replay
  helpers for deeper offline analysis; the latency reporter only requires the
  structured logs.

## Usage
1. Run the observed bridge router and capture the structured log output to a
   file (for example, `observed.log`).
2. Execute the latency report CLI:

   ```bash
   python -m src.phase6_cli observed.log > latency-report.json
   ```

3. Inspect the JSON report for overall and per-kind latency metrics (mean,
   max, jitter) along with the number of samples included.

## Notes
- Payloads are reconstructed from the minimal parameters recorded in the log so
  that Phase 3 validation and derived metric calculations remain enforced.
- The CLI defaults to reading stdin when no file is provided, which makes it
  easy to stream logs directly into the report generator for quick spot checks.
